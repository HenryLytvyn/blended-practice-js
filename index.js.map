{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/render-function.js","../src/js/refs.js","../src/js/handlers.js","../src/home.js","../src/js/modal.js"],"sourcesContent":["// Функції для роботи з бекендом\n\nimport axios from 'axios';\n\nexport async function getAllProducts(currentPage) {\n  try {\n    const response = await axios.get(\n      `https://dummyjson.com/products?limit=12&skip=${(currentPage - 1) * 12}`\n    );\n    return response.data;\n  } catch (error) {\n    alert(error.message);\n  }\n}\n\nexport async function getProductById(id) {\n  try {\n    const response = await axios.get(`https://dummyjson.com/products/${id}`);\n    return response.data;\n  } catch (error) {\n    alert(error.message);\n  }\n}\n\nexport async function getProductByName(name) {\n  try {\n    const response = await axios.get(\n      `https://dummyjson.com/products/search?q=${name}`\n    );\n    return response.data;\n  } catch (error) {\n    alert(error.message);\n  }\n}\n\nexport async function getCategoriesList() {\n  try {\n    const response = await axios.get(\n      `https://dummyjson.com/products/category-list`\n    );\n    return response.data;\n  } catch (error) {\n    alert(error.message);\n  }\n}\n\nexport async function getProductsByCategory(category) {\n  try {\n    const response = await axios.get(\n      `https://dummyjson.com/products/category/${category}`\n    );\n    return response.data;\n  } catch (error) {\n    alert(error.message);\n  }\n}\n","//Функцію для створення, рендеру або видалення розмітки\n\nexport function renderCategories(arr) {\n  return arr\n    .map(\n      item => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${item}</button>\n </li>\n`\n    )\n    .join('');\n}\n\nexport function renderCarts(arr) {\n  return arr\n    .map(\n      ({ id, images, description, title, brand, category, price }) => `\n  <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${description}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}</p>\n </li>\n`\n    )\n    .join('');\n}\n\nexport function renderModalCart({ images, description, title, tags, price }) {\n  return `<img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${tags}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:</p>\n        <p class=\"modal-product__return-policy\">Return Policy:</p>\n        <p class=\"modal-product__price\">Price: ${price}</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n`;\n}\n","//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n  categories: document.querySelector('.categories'),\n  products: document.querySelector('.products'),\n  productsItem: document.querySelector('.products__item'),\n  categoriesBtn: document.querySelector('.categories__btn'),\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n};\n","// Функції, які передаються колбеками в addEventListners\n\nimport {\n  getAllProducts,\n  getProductsByCategory,\n  getProductById,\n} from './products-api';\nimport { renderCarts, renderModalCart } from './render-function';\nimport { refs } from './refs';\n\nexport function handleCategories(event) {\n  if (!event.target.classList.contains('categories__btn')) {\n    return;\n  }\n\n  const categoryBtns = Array.from(refs.categories.children);\n\n  //! ===========================================\n\n  for (const categoryBtn of categoryBtns) {\n    if (\n      categoryBtn.firstElementChild.classList.contains(\n        'categories__btn--active'\n      )\n    ) {\n      categoryBtn.firstElementChild.classList.remove('categories__btn--active');\n      break;\n    }\n  }\n\n  event.target.classList.add('categories__btn--active');\n  const category = event.target.innerHTML;\n  if (category === 'All') {\n    getAllProducts(1)\n      .then(\n        response => (refs.products.innerHTML = renderCarts(response.products))\n      )\n      .catch(error => console.log(error.message));\n  }\n\n  getProductsByCategory(category)\n    .then(response => {\n      refs.products.innerHTML = renderCarts(response.products);\n    })\n    .catch(error => console.log(error.message));\n}\n\n//! ===========================================\n\nexport function handleProducts(event) {\n  if (event.target.classList.contains('products')) {\n    return;\n  }\n\n  return Number(event.target.closest('.products__item').dataset.id);\n}\n\n//! ===========================================\n\nexport function handleCloseModal() {\n  refs.modal.classList.remove('modal--is-open');\n}\n","//Логіка сторінки Home\n\nimport {\n  getAllProducts,\n  getCategoriesList,\n  getProductById,\n  getProductByName,\n  getProductsByCategory,\n} from './js/products-api';\n\nimport { handleCategories, handleProducts } from './js/handlers';\n\nimport { renderCategories, renderCarts } from './js/render-function';\n\nimport { refs } from './js/refs';\n\nlet page = 1;\n\nrefs.categories.addEventListener('click', handleCategories);\n\n// console.log(getAllProducts(1));\n// getAllProducts(1).then(response => console.log(response.products));\n\n// getProductByName('smartphone').then(response => console.log(response));\n\n// getCategoriesList().then(response => console.log(response));\n\n// getProductsByCategory('smartphones').then(response => console.log(response));\n\ngetCategoriesList()\n  .then(response =>\n    refs.categories.insertAdjacentHTML(\n      'beforeend',\n      renderCategories([...['All'], ...response])\n    )\n  )\n  .catch(error => alert(error.message));\n\ngetAllProducts(page)\n  .then(response =>\n    refs.products.insertAdjacentHTML(\n      'beforeend',\n      renderCarts(response.products)\n    )\n  )\n  .catch(error => console.log(error.message));\n","//Описана робота модалки - відкриття закриття і все що з модалкою повʼязано\n\nimport { refs } from './refs';\nimport { handleProducts, handleCloseModal } from './handlers';\n\nimport {\n  getAllProducts,\n  getCategoriesList,\n  getProductById,\n  getProductByName,\n  getProductsByCategory,\n} from './products-api';\n\nimport { renderCarts, renderModalCart } from './render-function';\n\nrefs.products.addEventListener('click', event => {\n  const eventId = handleProducts(event);\n  getProductById(eventId)\n    .then(response => {\n      console.log(response);\n      refs.modalProduct.innerHTML = renderModalCart(response);\n      refs.modal.classList.add('modal--is-open');\n    })\n    .catch(error => console.log(error.message));\n});\n\nrefs.modalCloseBtn.addEventListener('click', handleCloseModal);\n"],"names":["getAllProducts","currentPage","axios","error","getProductById","id","getCategoriesList","getProductsByCategory","category","renderCategories","arr","item","renderCarts","images","description","title","brand","price","renderModalCart","tags","refs","handleCategories","event","categoryBtns","categoryBtn","response","handleProducts","handleCloseModal","page","eventId"],"mappings":"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"}